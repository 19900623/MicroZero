# 网络数据格式定义

- 按ZMQ帧来分开不同内容，每一帧代表的含义，通过内容类型定义帧进行说明性定义。
- 每一帧都是一个字节数组，除参数外（参数由发送者和处理者使用，消息中心只是转发），均为ASCII码。
## api/vote
- 第一帧：内容类型定义
- 后续帧：对应内容


## pub/sub
- 第一帧：标题（用于订阅方便）
- 第二帧：内容类型定义
- 后续帧：对应内容

## 内容类型定义帧
> 0字节为内容帧数量，后续字节为内容类型。约定:帧的数量应小于32个

### 类型定义如下：

标识 | 含义 | 说明 | 必须
---|---|---|---
E | 终止符号 | CRC内容帧 | 可选
P | 执行计划 | 执行计划定义 | 可选
I | 请求ID | 请求的全局标识，可通过此标识串连还原流程 | 必须
R | 发起者 | 发起此次请求（包括API调用，投票操作，发布消息）的机器名称，可通过此标识定位流程起点. 在API、VOTE或命令类型：为请求者。在PUB类型：为生产者| 可选
G | 接收者 | 处理这次请求的机器名称，可通过此标识定位发生的流程节点。当前仅用于VOTE中 | 可选
S | 广播副题 | 广播主题不能完全表达时（广播主题唯一的作用是用于订阅过过滤），此内容可以做扩展定义 | PUB中可选
T | 网络上下文信息 | JSON格式。参考ZeroContext定义 | 可选
C | 命令 | API命令名称或操作命令名称 | 可选
A | 参数 | 参数 | 可选
B | 退出标识 | 表示此帧为准备退出的主机，仅管理命令存在时可用 | 可选

## 有效的内容
### API
#### 请求
- 发起者
- 命令
- 执行计划
- 参数
- 请求ID
- 上下文
#### 返回
- 状态
- 结果
### VOTE请求
- 用户信息
- 命令
- 执行计划
- 参数
-请求ID
-请求者
### VOTE返回
- 状态
- 结果

### PUB
- 标题
- 副题
- 用户信息
- 执行计划
- 参数
- 发布者










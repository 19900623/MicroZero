﻿﻿﻿﻿﻿﻿# ZeroAppConfig```json{  "ASPNETCORE_ENVIRONMENT_": "Development",  "AppName": "RpcTest",  "Zero": {    "Global": {      /*ZeroCenter主机IP地址*/      "ZeroAddress": "192.168.240.132",      /*ZeroCenter监测端口号*/      "ZeroMonitorPort": 8001,      /*ZeroCenter管理端口号*/      "ZeroManagePort": 8000,      /*限速模式（0 单线程 1 按线程数限制 2 按等待数限制）*/      "SpeedLimitModel": "ThreadCount",      /*最大等待数*/      "MaxWait": 512,      /*最大Task与Cpu核心数的倍数关系*/      "TaskCpuMultiple": 0.1,      /*服务器唯一标识*/      "ServiceKey": "77E6A88F"    },    "RpcTest": {      "StationName": "UserCenter"    }  }}```## 应用配置> 仅限 appsettings.json中有效.### ASPNETCORE_ENVIRONMENT_ aspnet.core相同配置,影响如下系统行为###### Development- 此时根目录在应用程序文件夹下(Environment.CurrentDirectory)- 不合并zero.json全局配置文件- datas,logs也在应用程序文件夹下- AppName如未配置,使用站点名称######  Procuction> 事实上只要是非Development即为生产配置- 遵行部署规范,根目录在(Environment.CurrentDirectory)的上一级目录,即部署根目录- 合并zero.json全局配置文件- 使用部署根目录的对应datas,logs目录- AppName如未配置,使用目录名称### AppName应用名称1.  如未配置- Development : 站点配置节为Zero.Station . AppName与StationName相同- Procuction : 使用目录名称作为AppName . 如果站点配置节存在AppName对应的节点,使用这个节点,否则使用 Zero.Station . 2.  如果在zero.json配置所有站点时,请注意同名有可能产生错误行为3.  如站点孤立选项(StationIsolate)为真, 本地文本日志这个名称作为二级目录 , 如 \usr\zero\datas\RpcTest\5.  如站点孤立选项(StationIsolate)为真, 数据缓存中使用这个名称作为二级目录 , 如 \usr\zero\datas\RpcTest\## 配置定义```csharpnamespace Agebull.ZeroNet.Core{    /// <summary>    /// 本地站点配置    /// </summary>    [Serializable]    public class ZeroAppConfig    {        /// <summary>        /// 站点孤立        /// </summary>        [DataMember]        public bool StationIsolate { get; set; }        /// <summary>        /// 服务名称        /// </summary>        [DataMember]        public string ServiceName { get; set; }        /// <summary>        /// 服务器唯一标识        /// </summary>        [DataMember]        public string ServiceKey { get; set; }        /// <summary>        /// 短名称        /// </summary>        [DataMember]        public string ShortName { get; set; }        /// <summary>        /// 站点名称，注意唯一性        /// </summary>        [DataMember]        public string StationName { get; set; }        /// <summary>        /// ZeroCenter主机IP地址        /// </summary>        [DataMember]        public string ZeroAddress { get; set; }        /// <summary>        /// ZeroCenter监测端口号        /// </summary>        [DataMember]        public int ZeroMonitorPort { get; set; }        /// <summary>        /// ZeroCenter管理端口号        /// </summary>        [DataMember]        public int ZeroManagePort { get; set; }        /// <summary>        /// 本地数据文件夹        /// </summary>        [DataMember]        public string DataFolder { get; set; }        /// <summary>        /// 本地日志文件夹        /// </summary>        [DataMember]        public string LogFolder { get; set; }        /// <summary>        /// ApiClient与ApiStation限速模式        /// </summary>        /// <remarks>        /// Single：单线程无等待        /// ThreadCount:按线程数限制,线程内无等待        ///     线程数计算公式 : 机器CPU数量 X TaskCpuMultiple 最小为1,请合理设置并测试        /// WaitCount: 单线程,每个请求起一个新Task,直到最高未完成数量达MaxWait时,        ///     ApiClient休眠直到等待数量 低于 MaxWait        ///     ApiStation返回服务器忙(熔断)        /// </remarks>        [DataMember]        public SpeedLimitType SpeedLimitModel { get; set; }        /// <summary>        /// 最大等待数(0xFF-0xFFFFF)        /// </summary>        [DataMember]        public int MaxWait { get; set; }        /// <summary>        /// 最大Task与Cpu核心数的倍数关系(0-128)        /// </summary>        [DataMember]        public decimal TaskCpuMultiple { get; set; }        /// <summary>        /// 插件地址,如为空则与运行目录相同        /// </summary>        [DataMember]        public string AddInPath { get; set; }    }}```## 默认值- ZeroAddress : 默认为本机127.0.0.1- ZeroMonitorPort  :  有效值1025-65000,默认为8001- ZeroManagePort  :  有效值1025-65000,默认为8000- ServiceName : 默认读取本机HoseName- ServiceKey : 默认为随机8字符(32进制)- DataFolder : 默认为部署目录下的datas- LogFolder : 默认为部署目录下的logs,会强制覆盖LogRecorder的txtPath配置- ShortName ： StationName- SpeedLimitModel ： Single,ThreadCount,WaitCount默认为ThreadCount- MaxWait : 有效值0xFF-0xFFFFF,默认为0xFF- TaskCpuMultiple : 有效值0-128,默认为1## 全局配置> appsettings.json与zero.json均可,但zero.json同名选项会覆盖appsettings.json中的 , 这是NetCore中的配置策略使然 对应节点 Zero.Global###### 有效果配置项> 注意 : 站点孤立(StationIsolate = true)时,如果站点中配置了这些值,将不使用这些配置- ZeroAddress- ZeroMonitorPort- ZeroManagePort- ServiceName- ServiceKey- DataFolder- LogFolder## 站点配置> 注意 : 非站点孤立(StationIsolate = false或默认)时强制使用全局配置中的有效果配置项,如全局配置错误,将产生异常或不可预知的行为###### 配置节点如果配置了AppName,则查找 Zero.[AppName]节点,如果不存在,使用Zero.Station###### 必填项StationName